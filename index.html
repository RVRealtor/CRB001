<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title> CryptoBapu | Official Token Sale</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="CRB.png.jpg" />
  <style>
    body { font-family: sans-serif; max-width: 700px; margin: auto; padding: 24px; }
    header { display: flex; align-items: center; gap: 16px; }
    img { height: 60px; }
    h1 { margin-bottom: 0; }
    .section { margin: 24px 0; }
    input, button { padding: 8px; font-size: 1em; }
    .success { color: green; }
    .error { color: red; }
  </style>
</head>
<body>
  <header>
    <img src="logo.png" alt="Logo" />
    <div>
      <h1>Cry</h1>
      <p>The official token sale for <strong>CRB Token</strong> (<strong>SYMBOL</strong>)</p>
    </div>
  </header>
  <div class="section">
    <h2>About Our Project</h2>
    <p>
      <!-- Describe your project here -->
      Welcome to the future of blockchain! CRB Ecosytem is revolutionizing the industry. 
      Join us and own a part of the future with CRB Token!
    </p>
  </div>
  <div class="section">
    <h2>Buy Our Token</h2>
    <button id="connectButton">Connect Wallet</button>
    <div id="walletAddress"></div>
    <div style="margin: 16px 0;">
      <input type="number" id="amount" placeholder="Amount in USDT" min="1" step="1" />
      <button id="buyButton" disabled>Buy Token</button>
    </div>
    <div id="status"></div>
    <small>
      Tokens will be sent to your wallet after payment is received.<br>
      Contract: <b>0xa718eB17a5823afE31f52d38Ca420bD060025249
</b>
    </small>
  </div>
  <div class="section">
    <h2>Tokenomics</h2>
    <ul>
      <li>Total Supply: 1,000,000000</li>
      <li>Symbol: CRB</li>
      <li>Network: Polygon (ERC20)</li>
      <!-- Add more details if you wish -->
    </ul>
  </div>
  <div class="section">
    <h2>Contact Us</h2>
    <p>Email: cryptobapu@gmail.com | Telegram: @cryptobapu</p>
  </div>
  <script>
    // CONFIGURATION: set your details here
    const SALE_WALLET = ; // your wallet address to receive payment (USDT)
    // --- END CONFIG ---

    let userAddress = "";

    async function connectWallet() {
      if (!window.ethereum) {
        document.getElementById('status').innerHTML = "<span class='error'>Please install MetaMask!</span>";
        return;
      }
      try {
        const accounts = await window.usdt.request({ method: 'usdt_requestAccounts' });
        userAddress = accounts[0];
        document.getElementById('walletAddress').textContent = "Connected: " + userAddress.slice(0,6) + "..." + userAddress.slice(-4);
        document.getElementById('buyButton').disabled = false;
        document.getElementById('status').innerHTML = "";
      } catch (e) {
        document.getElementById('status').innerHTML = "<span class='error'>Connection rejected.</span>";
      }
    }

    async function buyToken() {
      const amount = document.getElementById('amount').value;
      if (!amount || isNaN(amount) || amount <= 0) {
        document.getElementById('status').innerHTML = "<span class='error'>Enter a valid amount.</span>";
        return;
      }
      try {
        document.getElementById('status').innerHTML = "Sending transaction...";
        const tx = await window.usdt.request({
          method: 'usdt_sendTransaction',
          params: [{
            from: userAddress,
            to: SALE_WALLET,
            value: Number(amount * 1e18).toString(16), // In Wei, hex
          }],
        });
        document.getElementById('status').innerHTML = "<span class='success'>Transaction sent! Tx Hash: " + tx + "<br/>You will receive tokens soon.</span>";
      } catch (e) {
        document.getElementById('status').innerHTML = "<span class='error'>Transaction failed: " + e.message + "</span>";
      }
    }

    document.getElementById('connectButton').onclick = connectWallet;
    document.getElementById('buyButton').onclick = buyToken;
  </script>
</body>
</html>
